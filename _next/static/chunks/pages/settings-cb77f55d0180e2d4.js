(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{8034:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return s(9369)}])},9369:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(7876),l=s(4232),a=s(8230),d=s.n(a);function i(){let[e,t]=(0,l.useState)(""),a=async()=>{try{let{db:e}=await s.e(44).then(s.bind(s,5044)),t=e.exportData(),r=new Blob([t],{type:"application/json"}),l=URL.createObjectURL(r),a=document.createElement("a");a.href=l,a.download="commers-backup-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l),alert("데이터가 성공적으로 내보내졌습니다.")}catch(e){console.error("Export failed:",e),alert("데이터 내보내기에 실패했습니다.")}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"flex justify-between items-center py-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(d(),{href:"/",className:"text-gray-500 hover:text-gray-700",children:"← 뒤로"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"설정"})]})})})}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"데이터 관리"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"데이터 내보내기"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"모든 고객 정보와 기록을 JSON 파일로 내보냅니다."}),(0,r.jsx)("button",{onClick:a,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"데이터 내보내기"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"데이터 가져오기"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"이전에 내보낸 JSON 파일에서 데이터를 가져옵니다. 기존 데이터는 덮어씁니다."}),(0,r.jsx)("input",{type:"file",accept:".json",onChange:e=>{var r;let l=null==(r=e.target.files)?void 0:r[0];if(!l)return;let a=new FileReader;a.onload=async e=>{try{var r;let{db:l}=await s.e(44).then(s.bind(s,5044)),a=null==(r=e.target)?void 0:r.result;l.importData(a)?(t("데이터가 성공적으로 가져와졌습니다. 페이지를 새로고침하세요."),setTimeout(()=>{window.location.reload()},2e3)):t("데이터 가져오기에 실패했습니다.")}catch(e){console.error("Import failed:",e),t("데이터 가져오기에 실패했습니다.")}},a.readAsText(l)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),e&&(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:e})]}),(0,r.jsxs)("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[(0,r.jsx)("h3",{className:"text-md font-medium text-red-900 mb-2",children:"데이터 삭제"}),(0,r.jsx)("p",{className:"text-sm text-red-600 mb-4",children:"모든 고객 정보와 기록을 영구적으로 삭제합니다. 이 작업은 되돌릴 수 없습니다."}),(0,r.jsx)("button",{onClick:()=>{if(confirm("정말로 모든 데이터를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."))try{localStorage.clear(),alert("모든 데이터가 삭제되었습니다. 페이지를 새로고침하세요."),setTimeout(()=>{window.location.reload()},2e3)}catch(e){console.error("Clear data failed:",e),alert("데이터 삭제에 실패했습니다.")}},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"모든 데이터 삭제"})]})]}),(0,r.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"앱 정보"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsx)("p",{children:"버전: 1.0.0"}),(0,r.jsx)("p",{children:"마사지 고객 관리 PWA"}),(0,r.jsx)("p",{children:"오프라인 지원"})]})]})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[230,636,593,792],()=>t(8034)),_N_E=e.O()}]);