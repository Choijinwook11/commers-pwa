(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{6760:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9306)}])},9306:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var l=t(7876),i=t(4232),a=t(8230),d=t.n(a),n=t(7328),r=t.n(n);function c(){let[e,s]=(0,i.useState)([]),[a,n]=(0,i.useState)(!0),[c,x]=(0,i.useState)(!1),[m,o]=(0,i.useState)(null);(0,i.useEffect)(()=>{h(),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),o(e),x(!0)}),window.matchMedia("(display-mode: standalone)").matches&&x(!1)},[]);let h=async()=>{try{let{db:e}=await t.e(44).then(t.bind(t,5044)),l=await e.getAllCustomers();s(l)}catch(e){console.error("Failed to load customers:",e)}finally{n(!1)}},u=async()=>{if(m){m.prompt();let{outcome:e}=await m.userChoice;"accepted"===e&&x(!1),o(null)}};return a?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,l.jsx)("p",{className:"mt-4 text-gray-600",children:"로딩 중..."})]})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[c&&(0,l.jsx)("div",{className:"fixed top-0 left-0 right-0 bg-blue-600 text-white p-4 z-50",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("span",{className:"text-lg",children:"\uD83D\uDCF1"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"앱을 설치하세요!"}),(0,l.jsx)("p",{className:"text-sm opacity-90",children:"홈 화면에 추가하여 더 편리하게 사용하세요"})]})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:()=>x(!1),className:"px-3 py-1 text-sm bg-blue-700 rounded hover:bg-blue-800",children:"나중에"}),(0,l.jsx)("button",{onClick:u,className:"px-4 py-1 text-sm bg-white text-blue-600 rounded font-medium hover:bg-gray-100",children:"설치"})]})]})}),(0,l.jsxs)(r(),{children:[(0,l.jsx)("title",{children:"마사지 고객 관리 시스템"}),(0,l.jsx)("meta",{name:"description",content:"마사지 고객 일일 관리 로그 앱"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"마사지 고객 관리 시스템"}),(0,l.jsx)("p",{className:"text-gray-600",children:"오프라인 지원 PWA 앱"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto mb-8",children:[(0,l.jsxs)(d(),{href:"/customers",className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-6 px-6 rounded-lg shadow-md transition duration-200 text-center",children:[(0,l.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDC65"}),(0,l.jsx)("div",{className:"font-bold",children:"고객 관리"}),(0,l.jsx)("div",{className:"text-sm opacity-90",children:"고객 목록 및 상세 정보"})]}),(0,l.jsxs)(d(),{href:"/daily-log",className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-6 px-6 rounded-lg shadow-md transition duration-200 text-center",children:[(0,l.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCDD"}),(0,l.jsx)("div",{className:"font-bold",children:"일일 로그"}),(0,l.jsx)("div",{className:"text-sm opacity-90",children:"오늘의 관리 기록"})]}),(0,l.jsxs)(d(),{href:"/settings",className:"bg-purple-500 hover:bg-purple-600 text-white font-semibold py-6 px-6 rounded-lg shadow-md transition duration-200 text-center",children:[(0,l.jsx)("div",{className:"text-2xl mb-2",children:"⚙️"}),(0,l.jsx)("div",{className:"font-bold",children:"설정"}),(0,l.jsx)("div",{className:"text-sm opacity-90",children:"데이터 백업/복원"})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 max-w-4xl mx-auto",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"최근 고객"}),0===e.length?(0,l.jsx)("p",{className:"text-gray-600",children:"등록된 고객이 없습니다."}):(0,l.jsx)("div",{className:"space-y-3",children:e.slice(0,5).map(e=>(0,l.jsx)("div",{className:"border-b border-gray-200 pb-3 last:border-b-0",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:e.phone})]}),(0,l.jsx)(d(),{href:"/customers/".concat(e.id),className:"bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded text-sm transition duration-200",children:"상세보기"})]})},e.id))}),(0,l.jsx)("div",{className:"mt-6 text-center",children:(0,l.jsx)(d(),{href:"/customers/new",className:"bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition duration-200 inline-block",children:"새 고객 등록"})})]}),(0,l.jsxs)("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"\uD83D\uDCF1 Progressive Web App"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium mb-2",children:"✅ 설치 가능"}),(0,l.jsx)("p",{children:"홈 화면에 앱으로 설치하여 사용할 수 있습니다"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium mb-2",children:"\uD83D\uDCF4 오프라인 지원"}),(0,l.jsx)("p",{children:"인터넷 연결 없이도 기본 기능을 사용할 수 있습니다"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium mb-2",children:"\uD83D\uDD04 자동 업데이트"}),(0,l.jsx)("p",{children:"새로운 버전이 자동으로 업데이트됩니다"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium mb-2",children:"\uD83D\uDCBE 로컬 저장"}),(0,l.jsx)("p",{children:"모든 데이터가 기기에 안전하게 저장됩니다"})]})]})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[230,636,593,792],()=>s(6760)),_N_E=e.O()}]);